# ë‹¤ë¥¸ íƒ€ì…ì´ ì ì ˆí•˜ë‹¤ë©´ ë¬¸ìì—´ ì‚¬ìš©ì„ í”¼í•˜ë¼

---

## ğŸ™…â€â™‚ï¸ë¬¸ìì—´ì€ ë‹¤ë¥¸ íƒ€ì…ì„ ëŒ€ì‹ í•˜ê¸°ì— ì ì ˆí•˜ì§€ ì•Šë‹¤.

ì…ë ¥ë°›ì„ ë°ì´í„°ê°€ ì§„ì§œ ë¬¸ìì—´ì¸ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤.

ë°ì´í„°ê°€ ìˆ˜ì¹˜í˜• â†’ ìˆ˜ì¹˜ì— ëŒ€í•œ íƒ€ì… (int, double, float)

ë°ì´í„°ê°€ ì°¸, ê±°ì§“ â†’ boolean or Enum ìë£Œí˜•

ì ì ˆí•œ íƒ€ì…ì´ ìˆë‹¤ë©´ ê·¸ê²ƒì„ ì‚¬ìš©í•˜ê³  ì—†ë‹¤ë©´ ìƒˆë¡œìš´ íƒ€ì…ì„ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ì.

ë˜ë„ë¡ì´ë©´, ë¬¸ìì—´ ì‚¬ìš©ì„ í”¼í•˜ì.

## ğŸ™…â€â™‚ï¸ë¬¸ìì—´ì€ ì—´ê±° íƒ€ì…ì„ ë‚˜íƒ€ë‚´ê¸°ì— ì ì ˆí•˜ì§€ ì•Šë‹¤.

```java
public static final int APPLE_FUJI          = 0;
public static final int APPLE_PIPPIN        = 1;
public static final int APPLE_GRANNY_SMITH  = 2;

public static final int ORANGE_NAVEL  = 0;
public static final int ORANGE_TEMPLE = 1;
public static final int ORANGE_BLOOD  = 2;
```

### ì •ìˆ˜ ì—´ê±° íŒ¨í„´ì˜ ë¬¸ì œì 

ì´ì™€ ê°™ì€ ì •ìˆ˜ ì—´ê±° íŒ¨í„´ì—ë„ ë¬¸ì œì ì´ ë§ë‹¤. â†’ ì•„ì´í…œ 34

- íƒ€ì…ì˜ ì•ˆì „ì„±ì„ ë³´ì¥í•  ìˆ˜ ì—†ìœ¼ë©°
- ì ‘ë‘ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¦„ ì¶©ëŒì„ ë°©ì§€í•´ì•¼ í•œë‹¤(ë³„ë„ì˜ ì´ë¦„ ê³µê°„ì´ ì—†ë‹¤)
- í”„ë¡œê·¸ë¨ì´ ê¹¨ì§€ê¸° ì‰½ë‹¤.

í‰ë²”í•œ ìƒìˆ˜ë¥¼ ë‚˜ì—´í•œ ê²ƒë¿ì´ë¼ ì»´íŒŒì¼í•˜ë©´ ê·¸ ê°’ì´ í´ë¼ì´ì–¸íŠ¸(APIê°€ ì ìš©ëœ í´ë˜ìŠ¤: ì½”ë“œ, í”„ë¡œê·¸ë¨) íŒŒì¼ì— ê·¸ëŒ€ë¡œ ìƒˆê²¨ì§„ë‹¤.

ì¦‰, APIì˜ ìƒìˆ˜ ê°’ì´ ë°”ë€Œë©´ í´ë¼ì´ì–¸íŠ¸ë„ ì¬ì»´íŒŒì¼ì„ í•´ì•¼ë§Œ í•œë‹¤.

- ì •ìˆ˜ ìƒìˆ˜ëŠ” ë¬¸ìì—´ë¡œ ì¶œë ¥í•˜ê¸° ê¹Œë‹¤ë¡­ë‹¤

### ë¬¸ìì—´ íŒ¨í„´ì˜ ë¬¸ì œì 

ìƒìˆ˜ì˜ ì˜ë¯¸ë¥¼ ì¶œë ¥í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ë§Œ ì´ë¥¼ í•˜ë“œ ì½”ë”© í•´ì•¼í•œë‹¤ëŠ” ì 

ì˜¤íƒ€ê°€ ìˆì–´ë„ ì»´íŒŒì¼ëŸ¬ê°€ í™•ì¸í•  ë°©ë²•ì´ ì—†ë‹¤.

### ğŸ‘ ì—´ê±° íŒ¨í„´ â†’ ì—´ê±° íƒ€ì…

```java
public enum Apple { FUJI, PIPPIN, GRANNY_SMITH }
public enum Orange { NAVEL, TEMPLE, BLOOD }
```

## ğŸ™…â€â™‚ï¸ë¬¸ìì—´ì€ í˜¼í•© íƒ€ì…ì„ ëŒ€ì‹ í•˜ê¸°ì— ì í•©í•˜ì§€ ì•Šë‹¤.

```java
String compoundKey = className + "#" + i.next();
```

className, i.next() ì—ì„œ "#" ì´ ì“°ì´ë©´ í˜¼ë€ìŠ¤ëŸ¬ìš¸ ê²ƒ

ê° ìš”ì†Œë¥¼ ë¶„ë¦¬í•´ì„œ ì‚¬ìš©í•˜ë ¤ë©´ íŒŒì‹±í•´ì•¼ í•˜ë¯€ë¡œ ëŠë¦¬ê³ , ê·€ì°®ê³ , ì˜¤ë¥˜ê°€ëŠ¥ì„±ë„ ì¦ê°€í•œë‹¤.

ì ì ˆí•˜ê²Œ equals, toString, CompareTo ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , String Class ê°€ ì œê³µí•˜ëŠ” ë©”ì„œë“œë§Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. 

ì°¨ë¼ë¦¬ ë‘ ìš”ì†Œë¥¼ ë³‘í•©í•´ì„œ ê´€ë¦¬í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ë‚«ë‹¤.

```java
public class studyInfo {
    private String team;
    private int itemNum;
    private static class compoundKey{
        private String team;
        private int itemNum;

        public compoundKey(String team, int itemNum) {
            this.team = team;
            this.itemNum = itemNum;
        }
        public studyInfo compound(){
            return new studyInfo(this);
        }
    }
    private studyInfo(compoundKey compoundKey){
        team = compoundKey.team;
        itemNum = compoundKey.itemNum;
    }

    public static void main(String[] args) {
        ArrayList<Integer> itemList = new ArrayList<>(List.of(60,61,62));
        Iterator<Integer> i = itemList.iterator();
        
        studyInfo student1 = new studyInfo.compoundKey("BíŒ€",i.next()).compound();
        studyInfo student2 = new studyInfo.compoundKey("AíŒ€",i.next()).compound();
        studyInfo student3 = new studyInfo.compoundKey("BíŒ€",i.next()).compound();

        System.out.println("student1: " + student1.team + " ì•„ì´í…œ " + student1.itemNum);
        System.out.println("student2: " + student1.team + " ì•„ì´í…œ " + student2.itemNum);
        System.out.println("student3: " + student1.team + " ì•„ì´í…œ " + student3.itemNum);
    }
}
/*
student1: BíŒ€ ì•„ì´í…œ 60
student2: AíŒ€ ì•„ì´í…œ 61
student3: BíŒ€ ì•„ì´í…œ 62
*/
```

## ğŸ™…â€â™‚ï¸ë¬¸ìì—´ì€ ê¶Œí•œì„ í‘œì‹œí•˜ê¸°ì— ì í•©í•˜ì§€ ì•Šë‹¤.

ThreadLocalì´ë€?

ì¼ë°˜ ë³€ìˆ˜ì˜ ê²½ìš° : ìˆ˜ëª…ì´ ì½”ë“œ ë¸”ë¡ ë‚´ì—ì„œë§Œ ê°€ëŠ¥í•˜ë‹¤

```java
{
	int a = 10;
// ë¸”ë¡ ì•ˆì—ì„œ ì‚¬ìš©ê°€ëŠ¥
}
//ë³€ìˆ˜ a ëŠ” ìœ„ ì½”ë“œ ë¸”ë¡ì´ ëë‚˜ë©´ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤/
```

[https://t1.daumcdn.net/tistoryfile/fs14/36_tistory_2009_02_13_15_44_499516b885314?x-content-disposition=inline](https://t1.daumcdn.net/tistoryfile/fs14/36_tistory_2009_02_13_15_44_499516b885314?x-content-disposition=inline)

ìŠ¤ë ˆë“œ ì§€ì—­ ë³€ìˆ˜ ì„¤ê³„ ê¸°ëŠ¥ì´ë€ , ê° ìŠ¤ë ˆë“œê°€ ìì‹ ë§Œì˜ ë³€ìˆ˜ë¥¼ ê°–ê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ì˜ë¯¸í•œë‹¤.

ìë°”2 ì´ì „ì—ëŠ” ì´ë¥¼ ê°œë°œìê°€ ì§ì ‘ ì„¤ê³„í–ˆê³ , í´ë¼ì´ì–¸íŠ¸ê°€ ì œê³µí•œ ë¬¸ìì—´ í‚¤ë¡œ ì§€ì—­ë³€ìˆ˜ë¥¼ ì‹ë³„í•˜ê¸°ê¹Œì§€ í–ˆë‹¤.

```java
public class ThreadLocal {
    private ThreadLocal() { } //ê°ì²´ ìƒì„± ë¶ˆê°€

    // í˜„ ìŠ¤ë ˆë“œì˜ ê°’ì„ í‚¤ë¡œ êµ¬ë¶„í•´ ì €ì¥
    public static void set(String key, Object value);

    // (í‚¤ê°€ ê°€ë¦¬í‚¤ëŠ”) í˜„ ìŠ¤ë ˆë“œì˜ ê°’ì„ ë°˜í™˜í•œë‹¤.
    public static Object get(String key);
}
```

ê·¸ëŸ°ë° ë§Œì•½ ë‘ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë¡œ ê°™ì€ í‚¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, ë‘ í´ë¼ì´ì–¸íŠ¸ ëª¨ë‘ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ëª»í•˜ê²Œ ëœë‹¤.

ì•…ì˜ì ì¸ í´ë¼ì´ì–¸íŠ¸ë¼ë©´ ì˜ë„ì ìœ¼ë¡œ ê°™ì€ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ì˜ ê°’ì„ íšë“í•  ìˆ˜ë„ ìˆë‹¤.

ì´ëŸ° ê²½ìš°ì—ëŠ” Stringìœ¼ë¡œ ê¶Œí•œì„ êµ¬ë¶„í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë³„ë„ì˜ íƒ€ì…ì„ ë§Œë“¤ì–´ í•´ê²°í•´ì•¼ í•œë‹¤.

```java
public class ThreadLocal {
    private ThreadLocal() {} //ê°ì²´ ìƒì„± ë¶ˆê°€
    
    public static class Key {
        key() {}
    }
    
    //ìœ„ì¡° ë¶ˆê°€ëŠ¥í•œ ê³ ìœ  í‚¤ë¥¼ ìƒì„±í•œë‹¤.
    public static Key getKey() {
		return new Key();
    }
    
    public static void set(Key key, Object value);
    public static Object get(Key key);
}
```

set / get methodëŠ” ë”ì´ìƒ static ë©”ì†Œë“œê°€ ì•„ë‹ˆì–´ë„ ëœë‹¤. 

Key í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë§Œë“  í›„ , íƒ€ì…ì˜ ì•ˆì „ì„±ì„ ìœ„í•´ ì œë„¤ë¦­ìœ¼ë¡œ ë³€ê²½í•´ë³´ë©´ ì‹¤ì œ ThreadLocalê³¼ ë¹„ìŠ·í•œ í˜•íƒœë¥¼ ëˆë‹¤.

```java
public final class Key {
    public Key();
    public void set(Object value);
    public Object get();
}
//=============================================================================
public final class Key<T> {
    public Key();
    public void set(T value);
    public T get();
}

```

## ğŸ¯í•µì‹¬ì •ë¦¬

ë¬¸ìì—´ì„ ì˜ëª» ì‚¬ìš©í•˜ëŠ” í”í•œ ì˜ˆë¡œëŠ” ê¸°ë³¸ íƒ€ì…, ì—´ê±° íƒ€ì…, í˜¼í•© íƒ€ì…ë“±ì´ ìˆë‹¤.

ë¬¸ìì—´ì„ ì˜ëª» ì‚¬ìš©í•˜ë©´ ë²ˆê±°ë¡­ê³ , ëœ ìœ ì—°í•˜ê³ , ëŠë¦¬ê³ , ì˜¤ë¥˜ê°€ëŠ¥ì„±ë„ í¬ë‹¤.

ë” ì í•©í•œ ë°ì´í„° íƒ€ì…ì´ ìˆê±°ë‚˜ ìƒˆë¡œ ì‘ì„± í•  ìˆ˜ ìˆë‹¤ë©´, ë¬¸ìì—´ ì‚¬ìš©ì„ ìì œí•˜ì!